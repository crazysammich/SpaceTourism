import{r as p,j as s}from"./index-CXBw4fRK.js";function V(d,r){let c=0,h=0,m=0,l=0,x,u=!1;function f(a){h=a.changedTouches[0].clientX,x=setInterval(()=>m++)}function o(a){a.preventDefault(),c=a.changedTouches[0].clientX,l=c/h,u=!0,clearInterval(x),!(m>200&&!u)&&(l<1?r(a):l>1&&d(a),m=0,h=0)}return{onTouchStart:f,onTouchEnd:o}}const T="/assets/icons-sprite.svg";function X(d){const{items:r,autoPlay:c,animationType:h="slide",className:m,currentIndexArg:l=null,direction:x="horizontal",type:u="controls",Indicator:f,onCarouselChange:o,onIndictClick:a,onControlsClick:g,onSwipe:j}=d,[n,y]=p.useState(0),v=p.useRef([]);p.useEffect(()=>{v.current[0]&&v.current[0].classList.add("carousel-active")},[]),p.useEffect(()=>{let e;return c!=null&&c.auto&&(e=$()),()=>{clearInterval(e)}},[n,c==null?void 0:c.auto]),p.useEffect(()=>{l!==null&&i(l)},[l]);function $(){return setInterval(()=>{switch((c==null?void 0:c.direction)??"forward"){case"forward":n+1>r.length-1?i(0):i(n+1);break;case"backward":n-1<0?i(r.length-1):i(n-1);break}},((c==null?void 0:c.delay)??3)*1e3)}const E=V(A,P);function b(e){i(e),o&&o(e),a&&a(e)}function S(){const e=n>=v.current.length-1?0:n+1;i(e),o&&o(e),g&&g(e)}function F(){const e=n===0?v.current.length-1:n-1;i(e),o&&o(e),g&&g(e)}function A(e){_(n===0?0:n-1,e)}function P(e){const t=r.length-1;_(n>=t?t:n+1,e)}function _(e,t){i(e),o&&o(e),j&&j(e,t)}function i(e){const t=e,w=v.current[n],I=v.current[t];n!==t&&(t<n&&R(w,I),t>n&&z(w,I),y(t))}function R(e,t){e.classList.add("carousel-end"),t.classList.add("carousel-start"),C(t),setTimeout(()=>{t.classList.remove("carousel-start")},1),setTimeout(()=>{C(e),e.classList.remove("carousel-end")},L(e)*1e3)}function z(e,t){e.classList.add("carousel-start"),t.classList.add("carousel-end"),C(t),setTimeout(()=>{t.classList.remove("carousel-end")},1),setTimeout(()=>{e.classList.remove("carousel-start"),C(e)},L(e)*1e3)}function C(e){e.classList.toggle("carousel-active")}function D(e,t){v.current[e]=t}const k=s.jsxs(s.Fragment,{children:[s.jsx("button",{"aria-label":"previous",className:"carousel__control-prev",onClick:F,children:s.jsx("svg",{children:s.jsx("use",{href:`${T}#icon-chevron-thin-down`})})}),s.jsx("button",{"aria-label":"next",className:"carousel__control-next",onClick:S,children:s.jsx("svg",{children:s.jsx("use",{href:`${T}#icon-chevron-thin-down`})})})]}),N=s.jsxs("div",{className:"carousel__indicators",children:[f&&r.map((e,t)=>s.jsx(f,{index:t,className:`carousel__indicator ${n===t?"active":""}`,onClick:b.bind(null,t)},t)),!f&&r.map((e,t)=>s.jsx("button",{"aria-label":"slide-indicator-button",className:`carousel__indicator ${n===t?"active":""}`,onClick:b.bind(null,t)},t))]});return s.jsxs("div",{className:`carousel carousel--${x} ${m||""} ${h}`,children:[s.jsx("ul",{className:"carousel__content",...E,children:r.map((e,t)=>s.jsx("li",{className:"carousel__item",ref:D.bind(null,t),children:e},t))}),u==="controls"&&k,u==="indicator"&&N,u==="both"&&s.jsxs(s.Fragment,{children:[k,N]})]})}function L(d){return parseFloat(window.getComputedStyle(d).getPropertyValue("transition-duration").replace("s",""))}function H(d){const{items:r,autoPlay:c,animationType:h,className:m,currentIndexArg:l,direction:x,Indicator:u,type:f,onCarouselChange:o,onIndictClick:a,onControlsClick:g,onSwipe:j}=d;return s.jsx(X,{items:r,autoPlay:c,animationType:h,className:m||"",currentIndexArg:l,type:f,direction:x,Indicator:u,onCarouselChange:o,onIndictClick:a,onControlsClick:g,onSwipe:j})}export{H as C,V as h};
